<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="数据库系统概述数据库工具 Oracle Enterprise Manager Database Express工具   企业管理器数据库快捷版，为DBA用户提供基本的数据库系统管理功能 在浏览器中访问https:&#x2F;&#x2F;localhost:5500&#x2F;em&#x2F;login进入数据库管理登录页面 提供安全管理(表空间、还原管理、归档日志、控制文件)、配置管理(初始化参数、内存、当前数据库属性)和性能监控(主机">
<meta property="og:type" content="article">
<meta property="og:title" content="oracle 实验">
<meta property="og:url" content="http://p5ych2022.github.io/2024/01/01/oracle%E5%AE%9E%E9%AA%8C/index.html">
<meta property="og:site_name" content="psych&#39;s blog">
<meta property="og:description" content="数据库系统概述数据库工具 Oracle Enterprise Manager Database Express工具   企业管理器数据库快捷版，为DBA用户提供基本的数据库系统管理功能 在浏览器中访问https:&#x2F;&#x2F;localhost:5500&#x2F;em&#x2F;login进入数据库管理登录页面 提供安全管理(表空间、还原管理、归档日志、控制文件)、配置管理(初始化参数、内存、当前数据库属性)和性能监控(主机">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231113112351876.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231113144227499.png">
<meta property="og:image" content="c:/Users/%E6%9D%A8%E6%AC%A3%E7%84%B6/AppData/Roaming/Typora/typora-user-images/image-20240110172647830.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20240110174844718.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20240110184523270.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231113154224639.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231113215951229.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231113220439385.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231113220509874.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231113220936097.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231113221229121.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231113223829390.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231113223816027.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231113235436241.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231114005306564.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231114011645584.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231114012402556.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231114012718020.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231114015000998.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231114020655314.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231114024232565.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231114024604385.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231114025340146.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231114031737209.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231114032228911.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231114032437633.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231114034159301.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231114035257187.png">
<meta property="og:image" content="c:\Users\%E6%9D%A8%E6%AC%A3%E7%84%B6\AppData\Roaming\Typora\typora-user-images\image-20231203145145833.png">
<meta property="og:image" content="c:\Users\%E6%9D%A8%E6%AC%A3%E7%84%B6\AppData\Roaming\Typora\typora-user-images\image-20231203151127455.png">
<meta property="og:image" content="c:\Users\%E6%9D%A8%E6%AC%A3%E7%84%B6\AppData\Roaming\Typora\typora-user-images\image-20231203150502495.png">
<meta property="og:image" content="c:\Users\%E6%9D%A8%E6%AC%A3%E7%84%B6\AppData\Roaming\Typora\typora-user-images\image-20231203151528345.png">
<meta property="og:image" content="c:\Users\%E6%9D%A8%E6%AC%A3%E7%84%B6\AppData\Roaming\Typora\typora-user-images\image-20231203151643147.png">
<meta property="og:image" content="c:\Users\%E6%9D%A8%E6%AC%A3%E7%84%B6\AppData\Roaming\Typora\typora-user-images\image-20231203152205493.png">
<meta property="og:image" content="c:\Users\%E6%9D%A8%E6%AC%A3%E7%84%B6\AppData\Roaming\Typora\typora-user-images\image-20231203152747839.png">
<meta property="og:image" content="c:\Users\%E6%9D%A8%E6%AC%A3%E7%84%B6\AppData\Roaming\Typora\typora-user-images\image-20231203153528783.png">
<meta property="article:published_time" content="2024-01-01T07:06:27.000Z">
<meta property="article:modified_time" content="2024-03-03T11:45:20.879Z">
<meta property="article:author" content="psych">
<meta property="article:tag" content="oracle">
<meta property="article:tag" content="课内">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231113112351876.png">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>oracle 实验</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 6.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Article</a></li><!--
     --><!--
       --><li><a href="/tags/">Tag</a></li><!--
     --><!--
       --><li><a href="/categories/">Category</a></li><!--
     --><!--
       --><li><a href="/search/">Search</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post" href="/2024/01/10/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post" href="/2024/01/01/2023%E5%B9%B4%E5%BA%A6/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://p5ych2022.github.io/2024/01/01/oracle%E5%AE%9E%E9%AA%8C/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://p5ych2022.github.io/2024/01/01/oracle%E5%AE%9E%E9%AA%8C/&text=oracle 实验"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://p5ych2022.github.io/2024/01/01/oracle%E5%AE%9E%E9%AA%8C/&title=oracle 实验"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://p5ych2022.github.io/2024/01/01/oracle%E5%AE%9E%E9%AA%8C/&is_video=false&description=oracle 实验"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=oracle 实验&body=Check out this article: http://p5ych2022.github.io/2024/01/01/oracle%E5%AE%9E%E9%AA%8C/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://p5ych2022.github.io/2024/01/01/oracle%E5%AE%9E%E9%AA%8C/&title=oracle 实验"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://p5ych2022.github.io/2024/01/01/oracle%E5%AE%9E%E9%AA%8C/&title=oracle 实验"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://p5ych2022.github.io/2024/01/01/oracle%E5%AE%9E%E9%AA%8C/&title=oracle 实验"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://p5ych2022.github.io/2024/01/01/oracle%E5%AE%9E%E9%AA%8C/&title=oracle 实验"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://p5ych2022.github.io/2024/01/01/oracle%E5%AE%9E%E9%AA%8C/&name=oracle 实验&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://p5ych2022.github.io/2024/01/01/oracle%E5%AE%9E%E9%AA%8C/&t=oracle 实验"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text">数据库系统概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%B7%A5%E5%85%B7"><span class="toc-number">1.1.</span> <span class="toc-text">数据库工具</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84"><span class="toc-number">1.2.</span> <span class="toc-text">数据库系统结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.2.1.</span> <span class="toc-text">关系数据模型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E6%A8%A1%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.2.2.</span> <span class="toc-text">多模数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E7%BB%84%E6%88%90"><span class="toc-number">1.2.3.</span> <span class="toc-text">数据库系统组成</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%94%A8%E6%88%B7"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">数据库用户</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F"><span class="toc-number">1.2.3.2.</span> <span class="toc-text">数据库应用程序</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.2.3.3.</span> <span class="toc-text">数据库管理系统</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.2.3.3.1.</span> <span class="toc-text">数据库</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BB%93%E6%9E%84"><span class="toc-number">1.2.4.</span> <span class="toc-text">数据库结构</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84"><span class="toc-number">1.2.4.1.</span> <span class="toc-text">数据库逻辑结构</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%89%A9%E7%90%86%E7%BB%93%E6%9E%84"><span class="toc-number">1.2.4.2.</span> <span class="toc-text">数据库物理结构</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8"><span class="toc-number">1.2.5.</span> <span class="toc-text">数据字典</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8%E8%A7%86%E5%9B%BE"><span class="toc-number">1.2.5.1.</span> <span class="toc-text">静态数据字典视图</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8%E8%A7%86%E5%9B%BE"><span class="toc-number">1.2.5.2.</span> <span class="toc-text">动态数据字典视图</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C%E8%AF%AD%E8%A8%80"><span class="toc-number">1.2.6.</span> <span class="toc-text">数据库操作语言</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8E%E8%A1%A8%E7%A9%BA%E9%97%B4"><span class="toc-number">2.</span> <span class="toc-text">数据库与表空间</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93-1"><span class="toc-number">2.1.</span> <span class="toc-text">数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%99%AE%E9%80%9A%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">2.1.1.</span> <span class="toc-text">普通数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E7%A7%9F%E6%88%B7%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">2.1.2.</span> <span class="toc-text">多租户数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.1.2.1.</span> <span class="toc-text">模式</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%A9%BA%E9%97%B4"><span class="toc-number">2.1.3.</span> <span class="toc-text">数据表空间</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.</span> <span class="toc-text">数据库对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8"><span class="toc-number">3.1.</span> <span class="toc-text">数据库表</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A8%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.1.1.</span> <span class="toc-text">表类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7schema"><span class="toc-number">3.1.2.</span> <span class="toc-text">用户schema</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95"><span class="toc-number">3.2.</span> <span class="toc-text">索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE"><span class="toc-number">3.3.</span> <span class="toc-text">视图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%8E%E7%AB%AF%E7%BC%96%E7%A8%8B"><span class="toc-number">4.</span> <span class="toc-text">后端编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#PL-SQL%E6%A6%82%E8%BF%B0"><span class="toc-number">4.1.</span> <span class="toc-text">PL&#x2F;SQL概述</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E5%BF%AB"><span class="toc-number">4.1.1.</span> <span class="toc-text">结构快</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E4%B8%80%EF%BC%9A%E2%80%9C%E5%9B%BE%E4%B9%A6%E5%80%9F%E9%98%85%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E2%80%9DOracle-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%9B%E5%BB%BA%E4%B8%8E%E7%BB%B4%E6%8A%A4"><span class="toc-number">5.</span> <span class="toc-text">实验一：“图书借阅管理系统”Oracle 数据库创建与维护</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E5%8E%9F%E7%90%86"><span class="toc-number">5.1.</span> <span class="toc-text">实验原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E6%AD%A5%E9%AA%A4"><span class="toc-number">5.2.</span> <span class="toc-text">实验步骤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E8%BF%87%E7%A8%8B"><span class="toc-number">5.3.</span> <span class="toc-text">实验过程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%9B%E5%BB%BA"><span class="toc-number">5.3.1.</span> <span class="toc-text">数据库创建</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5"><span class="toc-number">5.3.2.</span> <span class="toc-text">数据库连接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%A1%A8%E7%A9%BA%E9%97%B4"><span class="toc-number">5.3.3.</span> <span class="toc-text">创建表空间</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E4%BA%8C%EF%BC%9A%E2%80%9C%E5%9B%BE%E4%B9%A6%E5%80%9F%E9%98%85%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E2%80%9DOracle-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AF%B9%E8%B1%A1%E5%88%9B%E5%BB%BA%E4%B8%8E-SQL-%E6%93%8D%E4%BD%9C"><span class="toc-number">6.</span> <span class="toc-text">实验二：“图书借阅管理系统”Oracle 数据库对象创建与 SQL 操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E5%8E%9F%E7%90%86-1"><span class="toc-number">6.1.</span> <span class="toc-text">实验原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E6%AD%A5%E9%AA%A4-1"><span class="toc-number">6.2.</span> <span class="toc-text">实验步骤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E8%BF%87%E7%A8%8B-1"><span class="toc-number">6.3.</span> <span class="toc-text">实验过程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%96%B9%E6%A1%88%E5%AF%B9%E8%B1%A1"><span class="toc-number">6.3.1.</span> <span class="toc-text">创建方案对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%9D%83%E9%99%90"><span class="toc-number">6.3.1.1.</span> <span class="toc-text">设置服务器权限</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%94%A8%E5%88%9A%E6%89%8D%E5%88%9B%E5%BB%BA%E7%9A%84%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95"><span class="toc-number">6.3.1.2.</span> <span class="toc-text">用刚才创建的用户登录</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%96%E5%86%99SQL%E8%AF%AD%E5%8F%A5"><span class="toc-number">6.3.2.</span> <span class="toc-text">编写SQL语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95"><span class="toc-number">6.3.3.</span> <span class="toc-text">创建索引</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%A7%86%E5%9B%BE%E5%AF%B9%E8%B1%A1"><span class="toc-number">6.3.4.</span> <span class="toc-text">创建视图对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%BA%8F%E5%88%97%E5%AF%B9%E8%B1%A1"><span class="toc-number">6.3.5.</span> <span class="toc-text">创建序列对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E8%A1%A8%E5%AF%B9%E8%B1%A1%E7%BB%93%E6%9E%84"><span class="toc-number">6.3.6.</span> <span class="toc-text">修改表对象结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%8F%E5%88%97"><span class="toc-number">6.3.7.</span> <span class="toc-text">删除数据库序列</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="toc-number">6.3.8.</span> <span class="toc-text">插入数据</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E4%B8%89%EF%BC%9A%E2%80%9C%E5%9B%BE%E4%B9%A6%E5%80%9F%E9%98%85%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E2%80%9DOracle-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%90%8E%E7%AB%AF-PL-SQL-%E7%BC%96%E7%A8%8B"><span class="toc-number">7.</span> <span class="toc-text">实验三：“图书借阅管理系统”Oracle 数据库后端 PL&#x2F;SQL 编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E5%8E%9F%E7%90%86-2"><span class="toc-number">7.1.</span> <span class="toc-text">实验原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E6%AD%A5%E9%AA%A4-2"><span class="toc-number">7.2.</span> <span class="toc-text">实验步骤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E8%BF%87%E7%A8%8B-2"><span class="toc-number">7.3.</span> <span class="toc-text">实验过程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E7%BC%96%E7%A8%8B"><span class="toc-number">7.3.1.</span> <span class="toc-text">存储过程编程</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%88%9B%E5%BB%BA"><span class="toc-number">7.3.1.1.</span> <span class="toc-text">存储过程创建</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E6%9F%A5%E7%9C%8B%E3%80%81%E4%BB%A3%E7%A0%81%E4%BF%AE%E6%94%B9%E3%80%81%E4%BB%A3%E7%A0%81%E7%BC%96%E8%AF%91%E3%80%82"><span class="toc-number">7.3.1.2.</span> <span class="toc-text">存储过程查看、代码修改、代码编译。</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E4%BD%BF%E7%94%A8"><span class="toc-number">7.3.1.3.</span> <span class="toc-text">存储过程使用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%88%A0%E9%99%A4"><span class="toc-number">7.3.1.4.</span> <span class="toc-text">存储过程删除</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A6%E5%8F%91%E5%99%A8%E7%BC%96%E7%A8%8B"><span class="toc-number">7.3.2.</span> <span class="toc-text">触发器编程</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A7%A6%E5%8F%91%E5%99%A8%E5%88%9B%E5%BB%BA%E5%8F%8A%E7%BC%96%E8%AF%91"><span class="toc-number">7.3.2.1.</span> <span class="toc-text">触发器创建及编译</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-number">7.3.2.2.</span> <span class="toc-text">查询触发器</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-number">7.3.2.3.</span> <span class="toc-text">使用触发器</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-number">7.3.2.4.</span> <span class="toc-text">删除触发器</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E5%9B%9B%EF%BC%9A%E2%80%9C%E5%9B%BE%E4%B9%A6%E5%80%9F%E9%98%85%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E2%80%9DOracle%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86"><span class="toc-number">8.</span> <span class="toc-text">实验四：“图书借阅管理系统”Oracle数据库系统管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E5%8E%9F%E7%90%86-3"><span class="toc-number">8.1.</span> <span class="toc-text">实验原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E6%AD%A5%E9%AA%A4-3"><span class="toc-number">8.2.</span> <span class="toc-text">实验步骤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E8%BF%87%E7%A8%8B-3"><span class="toc-number">8.3.</span> <span class="toc-text">实验过程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86"><span class="toc-number">8.3.1.</span> <span class="toc-text">用户权限管理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D"><span class="toc-number">8.3.2.</span> <span class="toc-text">数据库备份与恢复</span></a></li></ol></li></ol></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        oracle 实验
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">psych</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2024-01-01T07:06:27.000Z" class="dt-published" itemprop="datePublished">2024-01-01</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fa-solid fa-archive"></i>
        <a class="category-link" href="/categories/%E8%AF%BE%E5%86%85/">课内</a>
    </div>


      
    <div class="article-tag">
        <i class="fa-solid fa-tag"></i>
        <a class="p-category" href="/tags/oracle/" rel="tag">oracle</a>, <a class="p-category" href="/tags/%E8%AF%BE%E5%86%85/" rel="tag">课内</a>
    </div>


    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <h2 id="数据库系统概述"><a href="#数据库系统概述" class="headerlink" title="数据库系统概述"></a>数据库系统概述</h2><h3 id="数据库工具"><a href="#数据库工具" class="headerlink" title="数据库工具"></a>数据库工具</h3><blockquote>
<p>Oracle Enterprise Manager Database Express工具</p>
</blockquote>
<ul>
<li>企业管理器数据库快捷版，为DBA用户提供基本的数据库系统管理功能</li>
<li>在浏览器中访问<code>https://localhost:5500/em/login</code>进入数据库管理登录页面</li>
<li>提供安全管理(表空间、还原管理、归档日志、控制文件)、配置管理(初始化参数、内存、当前数据库属性)和性能监控(主机负载、主机内存、主机I&#x2F;O)</li>
</ul>
<blockquote>
<p>Oracle SQL Developer工具</p>
</blockquote>
<ul>
<li>支持DBA进行数据库管理功能操作</li>
<li>也能支持DBA进行数据库开发对象操作(创建数据库表、索引、视图、触发器和存储过程等对象)</li>
</ul>
<blockquote>
<p>Database Configuration Assistant工具</p>
</blockquote>
<ul>
<li>数据库配置助手，DBCA。</li>
<li>可以新建或删除一个数据库，也可以对以有的数据库配置进行修改</li>
</ul>
<blockquote>
<p>SQL Plus工具</p>
</blockquote>
<ul>
<li>基于命令行的数据库操作工具</li>
<li>可以将SQL语言命令和PL&#x2F;SQL语言命令提交数据库管理系统执行，实现对数据库进行操作访问和数据库管理</li>
<li>可以实现对数据库服务启停控制、数据库创建、用户权限管理和数据表访问等操作</li>
</ul>
<h3 id="数据库系统结构"><a href="#数据库系统结构" class="headerlink" title="数据库系统结构"></a>数据库系统结构</h3><h4 id="关系数据模型"><a href="#关系数据模型" class="headerlink" title="关系数据模型"></a>关系数据模型</h4><p>关系数据模型是一种以关系表为数据结构、采用关系操作方式访问数据的数据模型。该数据模型由如下三种部分组成。</p>
<ul>
<li>关系表结构</li>
<li>关系操作   [选择，头型，连接··]</li>
<li>关系约束   [完整性约束，参照完整性约束，自定义完整性约束]</li>
</ul>
<p>关系数据库是一种依赖关系模型组织、存储和管理数据的数据库。在数据库中，不仅存放了数据，还存放了数据结构及其数据关系。</p>
<h4 id="多模数据库"><a href="#多模数据库" class="headerlink" title="多模数据库"></a>多模数据库</h4><ul>
<li>关系数据库——关系数据模型</li>
<li>json数据库——json数据模型</li>
<li>xml数据库——XML数据模型</li>
<li>文档数据库——文档数据模型</li>
<li>键值</li>
<li>图</li>
<li>空间</li>
<li>···</li>
</ul>
<p>后面的都是<strong>nosql</strong>数据库。</p>
<h4 id="数据库系统组成"><a href="#数据库系统组成" class="headerlink" title="数据库系统组成"></a>数据库系统组成</h4><p>与其他关系数据库系统一样，都是由用户、数据库、数据库管理系统和数据库应用程序4个部分组成。</p>
<h5 id="数据库用户"><a href="#数据库用户" class="headerlink" title="数据库用户"></a>数据库用户</h5><p>数据库用户就是数据库系统的使用人员</p>
<h5 id="数据库应用程序"><a href="#数据库应用程序" class="headerlink" title="数据库应用程序"></a>数据库应用程序</h5><p>数据库应用程序是一种在DBMS支持下对数据进行访问处理的应用程序。使用编程语言(如JAVA、C++等)实现对数据库信息的操作访问，但它们需要基于DBMS提供的本地驱动接口或标准接口(如ODBC、JDBC等)才能连接与访问数据库</p>
<h5 id="数据库管理系统"><a href="#数据库管理系统" class="headerlink" title="数据库管理系统"></a>数据库管理系统</h5><p>database manage system，DBMS——是一种专门用来传建数据库，管理数据库，维护数据库，并对外提供数据库功能的</p>
<p>主要功能有：</p>
<ul>
<li>创建数据库、数据库表及其他对象</li>
<li>读写、修改和删除数据库表数据</li>
<li>维护数据库结构</li>
<li>执行数据访问规则</li>
<li>提供数据库并发控制和安全控制</li>
<li>执行数据库备份和恢复</li>
<li>···</li>
</ul>
<img src="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231113112351876.png" alt="image-20231113112351876" style="zoom:50%;" />

<h6 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h6><p>在oracle数据库中，主要采用关系表组织与存储数据。除了存储和管理应用的用户数据外，还需要存储与管理数据库本身的元数据、索引数据、运行数据等系统数据</p>
<p>数据库中所包含的各类数据内容：</p>
<ul>
<li>用户数据</li>
<li>元数据(数据表的表名称、表属性、列名称、列属性、表之间的数据约束关系)</li>
<li>索引数据</li>
<li>其他数据</li>
</ul>
<h4 id="数据库结构"><a href="#数据库结构" class="headerlink" title="数据库结构"></a>数据库结构</h4><h5 id="数据库逻辑结构"><a href="#数据库逻辑结构" class="headerlink" title="数据库逻辑结构"></a>数据库逻辑结构</h5><blockquote>
<p>逻辑存储结构</p>
</blockquote>
<p>数据库(Database)-&gt;表空间(Tablespace)-&gt;段(Segment)-&gt;区(Extend)-&gt;数据块(Data Block)</p>
<blockquote>
<p>表空间</p>
</blockquote>
<p>是在数据库下的定级结构单元，用于存储各种数据库对象的段数据</p>
<p>表空间类型：</p>
<ul>
<li>SYSTEM表空间：用于存储整个数据库的元数据和系统运行数据</li>
<li>STSAUX表空间：用于存储软件选件功能模块使用数据</li>
<li>TEMP表空间：用于存储临时对象数据</li>
<li>UNDO表空间：用于存储数据库还原数据，以便进行恢复处理</li>
<li>USERS表空间：用于存储用户和应用数据</li>
</ul>
<img src="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231113144227499.png" alt="image-20231113144227499" style="zoom: 50%;" />

<blockquote>
<p>段</p>
</blockquote>
<p>表空间中划分的不同存储区域，例如表空间划分为存放数据的数据段，存放临时数据的临时段和存放回滚数据的回滚段。</p>
<blockquote>
<p>区</p>
</blockquote>
<p>由若干连续数据块组成的存储区，用于存放特定数据类型的数据。对象分配空间是以区为单位的，一个数据库对象至少包含一个区。每个区又由多个数据块组成。</p>
<blockquote>
<p>数据块</p>
</blockquote>
<p>是数据库存取的最小存储单元，由若干数据字节组成。通常Oracle数据块是操作系统数据块的倍数</p>
<h5 id="数据库物理结构"><a href="#数据库物理结构" class="headerlink" title="数据库物理结构"></a>数据库物理结构</h5><p>数据库物理结构如下：</p>
<ul>
<li>数据文件(xxx.DBF)    -&gt;   存储数据库对象结构及其数据</li>
<li>控制文件(xxx.CTL)     -&gt;   记录数据库文件位置、数据库名称、创建时间和日志记录序号等控制信息</li>
<li>重做日志文件(xxx.LOG)    -&gt;    记录数据库事务的日志信息。数据库被破坏时，可以利用日志文件的数据来恢复数据库</li>
</ul>
<h4 id="数据字典"><a href="#数据字典" class="headerlink" title="数据字典"></a>数据字典</h4><blockquote>
<p>在Oracle数据库库系统中，系统数据库信息、数据库对象信息和用户管理信息等元数据都需要在数据库中进行记录，以便在运行中使用。</p>
</blockquote>
<p>在Oracle数据库系统中，数据库出用来存储用户数据外，还会使用系统数据表存放系统元数据。通常将数据库中<strong>存放系统元数据的数据库表及其视图集合</strong>称为数据字典。存放在SYSTEM表空间，用途为：</p>
<ul>
<li>通过存取数据字典，可访问数据库中所有数据库对象及其存储结构信息</li>
<li>当系统执行数据库对象操作的DDL语句后，在数据字典中记录与维护该对象的元数据</li>
</ul>
<h5 id="静态数据字典视图"><a href="#静态数据字典视图" class="headerlink" title="静态数据字典视图"></a>静态数据字典视图</h5><table>
<thead>
<tr>
<th align="center">前缀</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">ALL_</td>
<td align="center">所有数据库用户都可以访问，只要提供用户有关的对象信息</td>
</tr>
<tr>
<td align="center">DBA_</td>
<td align="center">仅有DBA访问，主要提供系统和对象信息</td>
</tr>
<tr>
<td align="center">USER_</td>
<td align="center">仅有数据库用户访问，内容因用户而不同</td>
</tr>
</tbody></table>
<p>一般名称尾部还有$字符。</p>
<h5 id="动态数据字典视图"><a href="#动态数据字典视图" class="headerlink" title="动态数据字典视图"></a>动态数据字典视图</h5><p>主要提供数据库运行状态数据查看，如当前数据库内存使用与分配信息。文件状态信息、任务调度与作业进展信息等。主要是以V$或V_$为前缀</p>
<h4 id="数据库操作语言"><a href="#数据库操作语言" class="headerlink" title="数据库操作语言"></a>数据库操作语言</h4><blockquote>
<p>SQL语言</p>
</blockquote>
<p>Oracle对标准SQL进行了扩展。扩展 的Oracle SQL语句可以分为以下几种类型：</p>
<ul>
<li>对象定义语言语句(Data Definition Language ,DDL)</li>
<li>数据库操纵语言语句(Data Manipulation Language，DML)</li>
<li>事务控制语句(Transacation Control Statements)</li>
<li>会话控制语句(Session Control Statements)</li>
<li>系统控制语句(System Control Statement)</li>
<li>嵌入SQL语句(Embedded SQL Statements)</li>
</ul>
<blockquote>
<p>PL&#x2F;SQL语言</p>
</blockquote>
<p>是Oracle数据库在SQL语言基础上进行过程扩展处理的编程语言，支持所有Oracle的SQL语句，函数和数据类型，并能进行循环、分支和嵌套等过程编程处理。</p>
<blockquote>
<p>JAVA语言</p>
</blockquote>
<p>后端数据库程序编程除了使用PL&#x2F;SQL语言外，也可以使用JAVA进行过程编程处理。Oracle数据库支持JAVA应用开发、部署和存储。</p>
<hr>
<h2 id="数据库与表空间"><a href="#数据库与表空间" class="headerlink" title="数据库与表空间"></a>数据库与表空间</h2><h3 id="数据库-1"><a href="#数据库-1" class="headerlink" title="数据库"></a>数据库</h3><p>完整的Oracle数据库通常由两部分组成：Oracle数据库和数据库实例。 </p>
<ul>
<li>数据库是一系列物理文件的集合（数据文件，控制文件，联机日志，参数文件等）； </li>
<li>Oracle数据库实例则是一组Oracle后台进程&#x2F;线程以及在服务器分配的共享内存区。</li>
</ul>
<p>在启动Oracle数据库服务器时，实际上是在服务器的内存中创建一个Oracle实例（即在服务器内存中分配共享内存并创建相关的后台内存），然后由这个Oracle数据库实例来访问和控制磁盘中的数据文件。Oracle有一个很大的内存快，成为全局区（SGA）。</p>
<h4 id="普通数据库"><a href="#普通数据库" class="headerlink" title="普通数据库"></a>普通数据库</h4><p>从物理结构来看，Oracle数据库由若干文件组成，主要包括&#x3D;&#x3D;数据文件、控制文件和日志文件&#x3D;&#x3D;。创建数据库实际上就是在操作系统中建立这些数据库文件，以便数据库服务器利用这些文件对数据库进行数据存储与管理。</p>
<h4 id="多租户数据库"><a href="#多租户数据库" class="headerlink" title="多租户数据库"></a>多租户数据库</h4><p>在云计算服务领域中，多租户技术是指多个租户共用一个相同的应用或服务时，仍可确保用户之间的数据隔离。云服务软件与传统软件的数据库实现技术的区别在于云服务软件采用了多租户数据库模式技术解决租户之间的数据隔离。在多租户数据库模式下，各个租户虽然运行在同一数据库系统中，但它们只能查看和修改自己的数据集合，租户之间相互独立，彼此互不影响。实现多租户数据库模式主要有以下三个方案</p>
<p>&#x3D;&#x3D;租户使用独立数据库&#x3D;&#x3D;</p>
<p>每个租户在使用应用系统服务时，采用各自独立的数据库解决租户之间的数据隔离问题。</p>
<p>特点是：有助于数据模型的拓展设计，满足不同租户的独特需求，用户数据隔离级别最高，安全性最好，但成本高</p>
<p>&#x3D;&#x3D;租户共享数据库、隔离Schema&#x3D;&#x3D;</p>
<p>租户使用应用系统服务时，采用统一数据库，在数据库中通过不同的用户Schema解决租户之间的数据隔离问题。</p>
<p>特点是：为安全性要求较高的租户提供了一定程度的逻辑数据隔离，但并不是完全隔离；如果出现故障，数据恢复比较困难，因为恢复数据库将牵扯到其他租户的数据；如果需要跨租户统计数据，也存在一定的困难。</p>
<p>&#x3D;&#x3D;租户共享数据库、共享Schema&#x3D;&#x3D;</p>
<p>租户共享数据库、共享Schema，但在表中童年过Ten-andID解决租户之间的数据隔离。</p>
<p>特点是：共享程度最高，隔离级别最低，需要在设计开发时加大对安全处理的开发量；数据备份和恢复最难，需要逐表逐条备份还原。</p>
<h5 id="模式"><a href="#模式" class="headerlink" title="模式"></a>模式</h5><p>在oracle数据库系统中，容器数据库 (Container Database，CDB) 是指能够容纳0个、1个或多个插接式数据库(Pluggable Databases，PDB)的数据库。结构如下图</p>
<img src="C:/Users/%E6%9D%A8%E6%AC%A3%E7%84%B6/AppData/Roaming/Typora/typora-user-images/image-20240110172647830.png" alt="image-20240110172647830" style="zoom: 33%;" />

<h4 id="数据表空间"><a href="#数据表空间" class="headerlink" title="数据表空间"></a>数据表空间</h4><p>在oracle数据库逻辑结构中，表空间是数据库之中最高层次的逻辑存储结构，即数据库是由若干表空间构成。在创建数据库时，系统自动为每个数据库建立几个默认的表空间，此外，用户还可以为应用创建及管理自己的表空间。</p>
<p>表空间是一种逻辑容器，它用于组织各种数据库对象(表、索引、视图、存储过程触发器等)的逻辑存储，并管理相关的数据文件。表空间在oracle数据库的逻辑结构组织和物理结构管理中扮演重要的作用</p>
<img src="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20240110174844718.png" alt="image-20240110174844718" style="zoom: 33%;" />

<p>Oracle数据库是<strong>通过表空间来存储物理表</strong>的，一个数据库实例可以有N个表空间，一个表空间下可以有N张表。</p>
<p>数据文件是物理的，一个表空间可以包含多个数据文件，而一个数据文件只能隶属一个表空间。</p>
<p>创建表空间语法：</p>
<p><code>Create TableSpace 表空间名称 DataFile  表空间数据文件路径 Size 表空间初始大小 Autoextend on</code></p>
<p>查看已经创建好的表空间：</p>
<p><code>select default_tablespace, temporary_tablespace, d.username   from dba_users d</code></p>
<h2 id="数据库对象"><a href="#数据库对象" class="headerlink" title="数据库对象"></a>数据库对象</h2><p>数据库对象是构成数据库的组成元素。一个Oracle数据库可以存储多种类型对象，如表、索引、视图、处处过程、触发器、序列、同义词和包等。在使用oracle数据库前，必须在数据库中创建基本的数据库对象，并由不同用户schema分别组织这些对象集合。当在数据库中创关键表对象后，就可以对表对象进行数据增删改查访问操作。</p>
<h3 id="数据库表"><a href="#数据库表" class="headerlink" title="数据库表"></a>数据库表</h3><p>表是关系数据库中最基本的数据库对象，它是存储数据的基本逻辑容器。一个我让车开了关系数据库通常需要建立较多的表。其中一些用于存储描述数据库结构的元数据和系统运行数据，这些被称为<strong>系统表或数据字典</strong>。另外一些表用于存储用户的应用数据，这些表被统称为<strong>用户表</strong>。</p>
<h4 id="表类型"><a href="#表类型" class="headerlink" title="表类型"></a>表类型</h4><p>&#x3D;&#x3D;关系表&#x3D;&#x3D;</p>
<p>关系表是oracle数据库中使用最多的一类数据库表。该类表按照关系模型方式处理数据访问。在创建oracle关系表时，默认按堆方式存储数据，有时也将它称为堆。在用堆方式存储数据时，表中的行数据由B-树索引指针定位，该行数据可在磁盘块中任意顺序位置存放。</p>
<p>&#x3D;&#x3D;对象表&#x3D;&#x3D;</p>
<p>对象表是一种在oracle数据库中以对象数据类型方式所创建的表。对象表中，每行分别储存处不同用户的数据。</p>
<p>&#x3D;&#x3D;临时表&#x3D;&#x3D;</p>
<p>临时表与常规表(关系表。对象表)一样也是用于存储数据的表对象，但是临时表在数据库中仅用于残存数据。当数据库实例种植后，系统将清除临时表及其数据。</p>
<p>&#x3D;&#x3D;索引组织表&#x3D;&#x3D;</p>
<p>索引组织表按照表的逐渐索引值顺序在磁盘块中组织进行数据存储，并且将行数据存放在索引叶结点存储块中。索引组织表支持应用对该表中进行范围查询，可实现高性能访问和高空存储空间访问率。</p>
<p>&#x3D;&#x3D;外部表&#x3D;&#x3D;</p>
<p>外部表是一类在数据库中存储元数据，而外部表数据本身存储在数据库之外的文件中。外部表在数据库中通常为中毒。</p>
<h4 id="用户schema"><a href="#用户schema" class="headerlink" title="用户schema"></a>用户schema</h4><p>在一个oracle数据库中，通常会存储很多不用用户的数据库对象，如表、索引、视图、触发器、存储过程、序列和同义词等。为了便于各个用户的数据库对象集合的组织管理，在数据库中需要先创建用户，同时系统也会创建与该用户同名的schema，作为该用户拥有数据库对象的逻辑容器。</p>
<img src="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20240110184523270.png" alt="image-20240110184523270" style="zoom: 50%;" />

<h3 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h3><p>索引(index)是一种针对表中指定列的值进行排序的数据结构，使用它可以加快表中数据的查询访问。例如，一个雇员信息表中有数万个雇员的行数据。若要对该表进行雇员信息查询，最基本的信息查询方式是全表检索，即将表中所有雇员的行数据一一取出，并与查询条件逐一对比，然后返回满足条件的行数据。这样的数据查询会带来DBMS的大量开销。当在有索引的表中进行数据查询时，首先在该表的索引结构中查找符合条件的索引值，然后再根据索引值所关联的地址指针在磁盘数据块中直接定位到对应的数据记录，从而实现快速数据查询。</p>
<p>为什么添加了索引之后，会加快查询速度呢？<br>图书馆：如果杂乱地放书的话检索起来就非常困难,所以将书分类，然后再建一个箱子，箱子里面放卡片，卡片里面可以按类查询,按书名查或者类别查,这样的话速度会快很多很多，这个就有点像索引。索引的好处就是提高你找到书的速度，但是正是因为你建了索引，就应该有人专门来维护索引，维护索引是要有时间精力的开销的，也就是说索引是不能乱建的。<br>所以建索引有个原则：如果有一个字段如果不经常查询，就不要去建索引。现在把书变成我们的表，把卡片变成我们的索引，就知道为什么索引会快，为什么会有开销。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">范例：给 person 表的 name 建立索引</span><br><span class="line"><span class="keyword">create</span> index pname_index <span class="keyword">on</span> person(name);</span><br><span class="line">范例：给 person 表创建一个 name 和 gender 的索引</span><br><span class="line"><span class="keyword">create</span> index pname_gender_index <span class="keyword">on</span> person(name, gender);</span><br></pre></td></tr></table></figure>

<h3 id="视图"><a href="#视图" class="headerlink" title="视图"></a>视图</h3><p>视图是一种建立在基础表或其他视图之上的虚拟表。用户同样可以使用SQL语句对视图进行数据插入、修改、删除和年数据查询处理。</p>
<p>视图就是提供一个查询的窗口，所有数据来自于原表<br> 语法 ： <code>CREATE VIEW 视图名称 AS 子查询</code></p>
<p>视图的作用？<br> 第一：视图可以屏蔽掉一些敏感字段。<br> 第二：保证总部和分部数据及时统一。（总部操纵实际的表，分部查询视图这样保证数据的统一）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">---查询语句创建表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> emp <span class="keyword">as</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> scott.emp;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp;</span><br><span class="line"><span class="comment">---创建视图【必须有dba权限】</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> v_emp <span class="keyword">as</span> <span class="keyword">select</span> ename, job <span class="keyword">from</span> emp;</span><br><span class="line"><span class="comment">---查询视图</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> v_emp;</span><br><span class="line"><span class="comment">---修改视图[不推荐]，实际的数据也会改变</span></span><br><span class="line"><span class="keyword">update</span> v_emp <span class="keyword">set</span> job<span class="operator">=</span><span class="string">&#x27;CLERK&#x27;</span> <span class="keyword">where</span> ename<span class="operator">=</span><span class="string">&#x27;ALLEN&#x27;</span>;</span><br><span class="line"><span class="keyword">commit</span>;</span><br><span class="line"><span class="comment">---创建只读视图</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> v_emp1 <span class="keyword">as</span> <span class="keyword">select</span> ename, job <span class="keyword">from</span> emp <span class="keyword">with</span> read <span class="keyword">only</span>;</span><br></pre></td></tr></table></figure>

<h2 id="后端编程"><a href="#后端编程" class="headerlink" title="后端编程"></a>后端编程</h2><h3 id="PL-SQL概述"><a href="#PL-SQL概述" class="headerlink" title="PL&#x2F;SQL概述"></a>PL&#x2F;SQL概述</h3><p>PL&#x2F;SQL是过程语言(Procedural Language) 与结构化查询语言(SQL)结合而成的编程语言，它是标准SQL语言的功能不成。SQL语言适合关系关系型数据库，但是无法满足应用程序对数据更复杂的处理需求。PL&#x2F;SQL语言支持多种数据类型，如大对象和集合类型，可使用条件和循环等控制结构，用于创建存储过程、函数、书法器、PL&#x2F;SQL包和用户自定义函数，给SQL语言的执行添加程序逻辑。oracle PL&#x2F;SQL在企业及应用程序中的应用广泛，而且oracle的一些功能部件也是使用PL&#x2F;SQL编写的。</p>
<h4 id="结构快"><a href="#结构快" class="headerlink" title="结构快"></a>结构快</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--PL/SQL块基本结构：</span></span><br><span class="line"><span class="keyword">DECLARE</span></span><br><span class="line"> 	   variable_name [CONSTANT] type[(size)] [<span class="keyword">NOT</span> <span class="keyword">NULL</span>] [:<span class="operator">=</span><span class="keyword">value</span>];  </span><br><span class="line">       <span class="comment">-- DECLARE 可选,声明部分: </span></span><br><span class="line">       <span class="comment">--在此声明PL/SQL用到的变量,常量,类型,游标 以及局部的存储过程和函数;</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">       <span class="comment">-- BEGIN~end 必须项,执行部分:</span></span><br><span class="line">       <span class="comment">-- 在此编写执行的过程 及 SQL语句,即程序的主要部分;</span></span><br><span class="line">       EXCEPTION</span><br><span class="line">                <span class="comment">-- EXCEPTION 可选,指定出现错误时需要执行的操作</span></span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line">        <span class="comment">-- end: 表示Pl/sql块的结束,别忘了分号结尾;</span></span><br><span class="line">        <span class="comment">-- variable_name:变量名称</span></span><br><span class="line">		<span class="comment">-- [CONSTANT]   :可选表示是否为常量</span></span><br><span class="line">		<span class="comment">-- type         :表示变量的数据类型</span></span><br><span class="line">		<span class="comment">-- [(size)]     :可选,数据类型的长度</span></span><br><span class="line">		<span class="comment">-- [NOT NULL]   :可选,该变量是否可以为空</span></span><br><span class="line">		<span class="comment">-- [:=value]    :可选,使用 := 给对于对象赋值 初始值;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 上面是PL/SQL块的基本结构, BEGIN~END; 是必须的 声明部分和异常处理部分并不是必须的..</span></span><br><span class="line"><span class="comment">-- 是PL/SQL中的单行注释    /**/ 多行注释;</span></span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;demo&#x3D;&#x3D;</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- scott用户下emp举例</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line"><span class="comment">--PL/SQL 根据输入id,获得当前用户名 JOB</span></span><br><span class="line"><span class="comment">-- 方式一:PL/SQL块 注意分号~</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">       <span class="comment">--声明变量 id ename job, 每一个变量之间 ; 分号分隔...</span></span><br><span class="line">       <span class="comment">--id 通过 :=值 进行赋默认值,并通过 &amp;xxx由Oracle工具输入参数;</span></span><br><span class="line">       v_id number :<span class="operator">=</span><span class="operator">&amp;</span>myid;  <span class="comment">--还可以把: &amp;myid手动输入换位固定的 :=7934; 固定的id号;</span></span><br><span class="line">       v_ename varchar2(<span class="number">50</span>);</span><br><span class="line">       v_JOB varchar2(<span class="number">50</span>);</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">      <span class="keyword">select</span> ename , job </span><br><span class="line">             <span class="keyword">into</span> v_ename,v_JOB </span><br><span class="line">             <span class="keyword">from</span> emp <span class="keyword">where</span> empno <span class="operator">=</span> v_id;</span><br><span class="line">      dbms_output.put_line(<span class="string">&#x27;用户名&#x27;</span><span class="operator">||</span>v_ename<span class="operator">||</span><span class="string">&#x27;职位: &#x27;</span><span class="operator">||</span>v_JOB);</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"><span class="comment">--  还可以通过: select into                          给变量进行赋值 </span></span><br><span class="line"><span class="comment">--  select 列1,列2 into 变量1,变量2 form 表          形式进行下标自动映射赋值..因此列类型和变量类型 顺序都要尽量对应</span></span><br><span class="line"><span class="comment">-- dbms_output.put_line();                           Oracle还可以通过该语句进行数据打印输出...</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 方式二: 解决了不清楚变量与列的类型</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">       v_id    emp.empno<span class="operator">%</span>type :<span class="operator">=</span><span class="operator">&amp;</span>id; </span><br><span class="line">       v_ename emp.ename<span class="operator">%</span>type;</span><br><span class="line">       v_JOB   emp.job<span class="operator">%</span>type;</span><br><span class="line">       v_emp   emp<span class="operator">%</span>Rowtype;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">      <span class="keyword">select</span> ename , job </span><br><span class="line">             <span class="keyword">into</span> v_ename,v_JOB</span><br><span class="line">             <span class="keyword">from</span> emp <span class="keyword">where</span> empno <span class="operator">=</span> v_id;</span><br><span class="line">      dbms_output.put_line(<span class="string">&#x27;用户名&#x27;</span><span class="operator">||</span>v_ename<span class="operator">||</span><span class="string">&#x27;职位: &#x27;</span><span class="operator">||</span>v_JOB);</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">into</span> v_emp <span class="keyword">from</span> emp <span class="keyword">where</span> empno <span class="operator">=</span> v_id;</span><br><span class="line">      dbms_output.put_line(<span class="string">&#x27;用户名&#x27;</span><span class="operator">||</span>v_emp.ename<span class="operator">||</span><span class="string">&#x27;职位: &#x27;</span><span class="operator">||</span>v_emp.job);</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"><span class="comment">-- 表.列%type:  可以在不清楚列类型时候给设置类型;</span></span><br><span class="line"><span class="comment">-- 表%ROWTYPE:  可以在不知道表中列个数 和 数据类型时候,可以通过  表%ROWTYPE 获取一个表类型变量...</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="实验一：“图书借阅管理系统”Oracle-数据库创建与维护"><a href="#实验一：“图书借阅管理系统”Oracle-数据库创建与维护" class="headerlink" title="实验一：“图书借阅管理系统”Oracle 数据库创建与维护"></a>实验一：“图书借阅管理系统”Oracle 数据库创建与维护</h2><h3 id="实验原理"><a href="#实验原理" class="headerlink" title="实验原理"></a>实验原理</h3><p>在 windows 系统下，利用 database Configuration assistance 创建相应数据库，并使用 sql developer 和 sql plus 对 Oracle 数据库进行相应的管理等操作。</p>
<h3 id="实验步骤"><a href="#实验步骤" class="headerlink" title="实验步骤"></a>实验步骤</h3><ul>
<li>图书借阅管理系统数据库 Lib 创建。</li>
<li>在 Oracle 数据库服务器中对 Lib 数据库启停控制。</li>
<li>Lib 数据库连接与基本 DBA 功能查看访问。</li>
<li>对 Lib 数据库进行初始化配置参数修改。</li>
<li>在 Lib 数据库中，对默认 user 表空间增加数据文件。</li>
<li>在 Lib 数据库中，创建用户表空间 T_Lib。</li>
<li>在 Lib 数据库中，修改用户表空间 T_Lib 配置参数。</li>
<li>在 Lib 数据库中，删除表空间 T_Lib。</li>
</ul>
<h3 id="实验过程"><a href="#实验过程" class="headerlink" title="实验过程"></a>实验过程</h3><h4 id="数据库创建"><a href="#数据库创建" class="headerlink" title="数据库创建"></a>数据库创建</h4><img src="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231113154224639.png" alt="image-20231113154224639" style="zoom: 33%;" />

<p>创建成功，管理口令的地方把sys的口令改了。</p>
<h4 id="数据库连接"><a href="#数据库连接" class="headerlink" title="数据库连接"></a>数据库连接</h4><p>由于本人SQL developer莫名其妙不见了，所以下载了PL&#x2F;SQL Developer作为数据库连接工具。</p>
<p>发现没有开启监听程序还是啥，打开Oracle Net Config Assistant 重新配置监听程序，设置默认端口1521。</p>
<img src="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231113215951229.png" alt="image-20231113215951229" style="zoom: 33%;" />

<p>然后使用navicat进行连接，注意sys用户是需要在高级的地方设置身份！</p>
<img src="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231113220439385.png" alt="image-20231113220439385" style="zoom:33%;" />

<img src="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231113220509874.png" alt="image-20231113220509874" style="zoom:33%;" />

<h4 id="创建表空间"><a href="#创建表空间" class="headerlink" title="创建表空间"></a>创建表空间</h4><p><code>create tablespace T_lib datafile &#39;E:\app\oracle\oradata\LIB\DATAFILE\T_lib.DBF&#39; size 8M autoextend on next 5M maxsize 10M;</code></p>
<img src="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231113220936097.png" alt="image-20231113220936097" style="zoom:33%;" />

<p>修改表空间配置。设置表空间自动扩容，设置最大容量</p>
<p><code>alter database DATAFILE &#39;E:\app\oracle\oradata\LIB\DATAFILE\T_lib.DBF&#39;  autoextend on next 200M maxsize 500M;</code></p>
<img src="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231113221229121.png" alt="image-20231113221229121" style="zoom:33%;" />

<p>删除表空间</p>
<p><code>drop tablespace T_lib;</code></p>
<h2 id="实验二：“图书借阅管理系统”Oracle-数据库对象创建与-SQL-操作"><a href="#实验二：“图书借阅管理系统”Oracle-数据库对象创建与-SQL-操作" class="headerlink" title="实验二：“图书借阅管理系统”Oracle 数据库对象创建与 SQL 操作"></a>实验二：“图书借阅管理系统”Oracle 数据库对象创建与 SQL 操作</h2><h3 id="实验原理-1"><a href="#实验原理-1" class="headerlink" title="实验原理"></a>实验原理</h3><p>数据库对象的创建应在 sys 账户登陆的情况下，在 sqldeveloper 中选择新建用户，设<br>置用户名，授予用户所需的权限并设定密码。创建完数据库对象后即可在 sqldeveloper 中<br>创建该数据库对象所对应的链接，然后进入到该链接对该数据库对象中的表进行相应的创<br>建、修改、删除、查询、统计等操作</p>
<h3 id="实验步骤-1"><a href="#实验步骤-1" class="headerlink" title="实验步骤"></a>实验步骤</h3><ul>
<li>在Lib数据库中，创建一个方案对象 Library_DBA。</li>
<li>设计 Lib 数据库各关系表结构，以及视图、索引、序列等。</li>
<li>编程与执行 SQL 程序，在 Library_DBA 方案中，创建 Lib 数据库的表、视图、索引、序列等对象。</li>
<li>在 Library_DBA 方案中，对数据库表进行数据插入、数据修改、数据删除 SQL 操作。</li>
<li>在 Library_DBA 方案中，对数据库表进行数据查询、数据统计 SQL 操作</li>
</ul>
<h3 id="实验过程-1"><a href="#实验过程-1" class="headerlink" title="实验过程"></a>实验过程</h3><h4 id="创建方案对象"><a href="#创建方案对象" class="headerlink" title="创建方案对象"></a>创建方案对象</h4><p>在navicat中创建一个用户，点击用户，选择新建用户，搜了一下创建报错公共用户名或角色无效的解决方法就是在用户名前加<code>C##</code>事实上也确实创建成功了<code>C##LIBRARY_DBA</code></p>
<h5 id="设置服务器权限"><a href="#设置服务器权限" class="headerlink" title="设置服务器权限"></a>设置服务器权限</h5><img src="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231113223829390.png" style="zoom:50%;" />



<img src="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231113223816027.png" alt="image-20231113223816027" style="zoom: 50%;" />

<h5 id="用刚才创建的用户登录"><a href="#用刚才创建的用户登录" class="headerlink" title="用刚才创建的用户登录"></a>用刚才创建的用户登录</h5><img src="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231113235436241.png" alt="image-20231113235436241" style="zoom:50%;" />

<p>注意点击高级，选择角色为default</p>
<h4 id="编写SQL语句"><a href="#编写SQL语句" class="headerlink" title="编写SQL语句"></a>编写SQL语句</h4><p>在 Library_DBA 空间中设计并编写 sql 程序，使其创建出名为reader\employee\title\book\loan\reserve 的五个表。设计表时注意表之间的约束关系，防止表创建不成功。创建的先后顺序为：reader\title 表，再 book 表，最后 loan\reserve 表。使用 <code>create</code>关键字进行创建。</p>
<img src="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231114005306564.png" alt="image-20231114005306564" style="zoom: 33%;" />

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--创建借阅者信息表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> reader (</span><br><span class="line">Read_ID <span class="type">char</span>(<span class="number">18</span>) <span class="keyword">primary</span> key,</span><br><span class="line">Read_Name <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Read_Addr <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">null</span>,</span><br><span class="line">Read_Tel <span class="type">varchar</span>(<span class="number">11</span>) <span class="keyword">NULL</span></span><br><span class="line">);</span><br><span class="line"><span class="comment">--创建员工信息表EMPLOYEE</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">TABLE</span> EMPLOYEE (</span><br><span class="line">Empl_ID <span class="type">char</span>(<span class="number">4</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">Empl_Name <span class="type">Varchar</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">Empl_Gender <span class="type">char</span>(<span class="number">2</span>) <span class="keyword">NULL</span>,</span><br><span class="line">Empl_Birthday <span class="type">Date</span> <span class="keyword">NULL</span>,</span><br><span class="line">Empl_Tel <span class="type">varchar</span>(<span class="number">11</span>) <span class="keyword">NULL</span></span><br><span class="line">);</span><br><span class="line"><span class="comment">--创建图书目录TITTLE</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> TITLE (</span><br><span class="line">Titl_ID Number GENERATED <span class="keyword">AS</span> <span class="keyword">IDENTITY</span>,</span><br><span class="line">Titl_Name <span class="type">varchar</span>(<span class="number">80</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">Titl_Type <span class="type">Varchar</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line"><span class="keyword">CONSTRAINT</span> Titl_PK <span class="keyword">PRIMARY</span> KEY(Titl_ID)</span><br><span class="line">);</span><br><span class="line"><span class="comment">--创建图书信息表BOOK</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">TABLE</span> BOOK(</span><br><span class="line">Book_ID NUMBER GENERATED <span class="keyword">AS</span> <span class="keyword">IDENTITY</span>,</span><br><span class="line">Book_Name <span class="type">Varchar</span>(<span class="number">80</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">Book_ISBN <span class="type">Char</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">BOOK_Title Number <span class="keyword">null</span>,</span><br><span class="line">Book_Author <span class="type">varchar</span>(<span class="number">60</span>) <span class="keyword">NULL</span>,</span><br><span class="line">Book_PubDate <span class="type">Date</span> <span class="keyword">NULL</span>,</span><br><span class="line">Book_Money <span class="type">DECIMAL</span>(<span class="number">4</span>,<span class="number">1</span>) <span class="keyword">NULL</span>,</span><br><span class="line">Book_Inlf <span class="type">SmallInt</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line"><span class="keyword">CONSTRAINT</span> Book_PK <span class="keyword">PRIMARY</span> key(Book_ID),</span><br><span class="line"><span class="keyword">CONSTRAINT</span> Book_FK <span class="keyword">FOREIGN</span> KEY(Book_Title) <span class="keyword">REFERENCES</span> TITLE(Titl_ID)</span><br><span class="line">);</span><br><span class="line"><span class="comment">--创建借阅记录表LOAN</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">TABLE</span> LOAN(</span><br><span class="line">Loan_ID NUMBER  GENERATED <span class="keyword">AS</span> <span class="keyword">IDENTITY</span>,</span><br><span class="line">Loan_Type <span class="type">char</span>(<span class="number">2</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Loan_BookID number <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Loan_ReaderID <span class="type">char</span>(<span class="number">18</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Loan_Date <span class="type">Date</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Loan_Note <span class="type">varchar</span>(<span class="number">30</span>) <span class="keyword">null</span>,</span><br><span class="line"><span class="keyword">CONSTRAINT</span> Loan_PK <span class="keyword">PRIMARY</span> key(Loan_ID),</span><br><span class="line"><span class="keyword">CONSTRAINT</span> Loan_FK1 <span class="keyword">FOREIGN</span> KEY(Loan_BookID) <span class="keyword">REFERENCES</span> BOOK(Book_ID),</span><br><span class="line"><span class="keyword">CONSTRAINT</span> Loan_FK2 <span class="keyword">FOREIGN</span> KEY(Loan_ReaderID) <span class="keyword">REFERENCES</span> READER(Read_ID)</span><br><span class="line">);</span><br><span class="line"><span class="comment">--创建预定图书表RESERVE</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">TABLE</span> RESERVE(</span><br><span class="line">Rese_ID number GENERATED <span class="keyword">AS</span> <span class="keyword">IDENTITY</span>,</span><br><span class="line">Rese_BookID number <span class="keyword">NOT</span> <span class="keyword">null</span>,</span><br><span class="line">Rese_ReaderID <span class="type">char</span>(<span class="number">18</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Rese_Date <span class="type">date</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Rese_Note <span class="type">varchar</span>(<span class="number">30</span>) <span class="keyword">null</span>,</span><br><span class="line"><span class="keyword">CONSTRAINT</span> Rese_PK <span class="keyword">PRIMARY</span> key(Rese_ID),</span><br><span class="line"><span class="keyword">CONSTRAINT</span> Rese_FK1 <span class="keyword">FOREIGN</span> KEY(Rese_BookID) <span class="keyword">REFERENCES</span> BOOK(Book_ID),</span><br><span class="line"><span class="keyword">CONSTRAINT</span> Rese_FK2 <span class="keyword">FOREIGN</span> KEY(Rese_ReaderID) <span class="keyword">REFERENCES</span> READER(Read_ID)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h4 id="创建索引"><a href="#创建索引" class="headerlink" title="创建索引"></a>创建索引</h4><ol>
<li>索引是什么？<br>(1) 一种供服务器在表中快速查找一行的 ‘数据库结构’<br>(2) 可以理解为：一本书中的 ‘目录’<ol start="2">
<li>索引的优点<br>(1) 加快数据的 ‘检索速度’<br>(2) 可以保证列值的 ‘唯一性’（unique、主键）<br>(3) 实现表与表之间的 ‘参照完整性’（外键）<br>(4) 在使用 order by、group by 子句时，可以减少排序和分组的时间</li>
</ol>
</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--在图书表中，创建书名列索引Book_Name_Idx</span></span><br><span class="line"><span class="keyword">create</span> index Book_Name_Idx <span class="keyword">on</span> BOOK(Book_Name);</span><br><span class="line"><span class="comment">--在图书表中，创建书目列索引Book_Title_Idx</span></span><br><span class="line"><span class="keyword">create</span> INDEX Book_Title_Idx <span class="keyword">on</span> BOOK(Book_Title);</span><br><span class="line"><span class="comment">--在借阅记录表中，创建借还类型索引Loan_Type_Idx</span></span><br><span class="line"><span class="keyword">create</span> BITMAP index Loan_Type_Idx <span class="keyword">on</span> LOAN(Loan_Type);</span><br><span class="line"><span class="comment">--在借阅记录表中，创建日期列索引Loan_Date_Idx</span></span><br><span class="line"><span class="keyword">create</span> index Loan_Date_Idx <span class="keyword">on</span> LOAN(Loan_Date <span class="keyword">DESC</span>);</span><br><span class="line"><span class="comment">--在图书预定表中，创建日期列索引 Rese_Date_idx</span></span><br><span class="line"><span class="keyword">create</span> index Rese_Date_Idx <span class="keyword">on</span> RESERVE(Rese_Date <span class="keyword">DESC</span>);</span><br></pre></td></tr></table></figure>

<img src="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231114011645584.png" alt="image-20231114011645584" style="zoom: 33%;" />

<h4 id="创建视图对象"><a href="#创建视图对象" class="headerlink" title="创建视图对象"></a>创建视图对象</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--创建查询当前可借图书视图Book_Inlf_View</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> Book_Inlf_View <span class="keyword">as</span> <span class="keyword">select</span> Book_Name,Book_ISBN,Book_Inlf <span class="keyword">from</span> BOOK <span class="keyword">where</span> Book_Inlf <span class="operator">=</span> <span class="number">1</span>; <span class="comment">--0代表不可借，1代表可以借</span></span><br><span class="line"><span class="comment">--创建查询当前借书读者列表视图Loan_Reader_View</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> Loan_Reader_View <span class="keyword">as</span> <span class="keyword">select</span> R.READ_ID,R.Read_Name,B.Book_Name,L.Loan_Date <span class="keyword">from</span> LOAN L,READER R,BOOK B <span class="keyword">where</span> L.Loan_Type <span class="operator">=</span> <span class="string">&#x27;借&#x27;</span> <span class="keyword">and</span> L.loan_BookID <span class="operator">=</span> B.Book_ID <span class="keyword">and</span> L.Loan_ReaderID <span class="operator">=</span> r.Read_ID <span class="keyword">with</span> READ <span class="keyword">ONLY</span>;</span><br></pre></td></tr></table></figure>

<img src="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231114012402556.png" alt="image-20231114012402556" style="zoom:33%;" />

<h4 id="创建序列对象"><a href="#创建序列对象" class="headerlink" title="创建序列对象"></a>创建序列对象</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--在Library_DBA用户方案中，创建序列Titl_ID_Seq</span></span><br><span class="line"><span class="keyword">create</span> sequence Titl_ID_Seq <span class="keyword">start</span> <span class="keyword">with</span> <span class="number">1</span> increment <span class="keyword">by</span> <span class="number">10</span>;</span><br><span class="line"><span class="comment">--在Library_DBA用户方案中，创建序列Book_ID_Seq</span></span><br><span class="line"><span class="keyword">create</span> sequence Book_ID_Seq <span class="keyword">start</span> <span class="keyword">with</span> <span class="number">1000</span> increment <span class="keyword">by</span> <span class="number">1</span>;</span><br><span class="line"><span class="comment">--在Library_DBA用户方案中，创建序列Rese_ID_Seq</span></span><br><span class="line"><span class="keyword">create</span> sequence Rese_ID_Seq;</span><br></pre></td></tr></table></figure>

<img src="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231114012718020.png" alt="image-20231114012718020" style="zoom:33%;" />

<h4 id="修改表对象结构"><a href="#修改表对象结构" class="headerlink" title="修改表对象结构"></a>修改表对象结构</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> C##LIBRARY_DBA.reader <span class="keyword">add</span> read_birthday <span class="type">date</span>;</span><br></pre></td></tr></table></figure>

<img src="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231114015000998.png" alt="image-20231114015000998" style="zoom:33%;" />

<h4 id="删除数据库序列"><a href="#删除数据库序列" class="headerlink" title="删除数据库序列"></a>删除数据库序列</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> sequence Rese_id_seq;</span><br></pre></td></tr></table></figure>

<h4 id="插入数据"><a href="#插入数据" class="headerlink" title="插入数据"></a>插入数据</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> reader <span class="keyword">values</span>(<span class="string">&#x27;510111111111111111&#x27;</span>,<span class="string">&#x27;p1ych&#x27;</span>,<span class="string">&#x27;成都&#x27;</span>,<span class="string">&#x27;18788881881&#x27;</span>,to_date(<span class="string">&#x27;2010-01-01&#x27;</span>,<span class="string">&#x27;yyyy-mm-dd&#x27;</span>) );</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> reader <span class="keyword">values</span>(<span class="string">&#x27;520111111111111111&#x27;</span>,<span class="string">&#x27;p2ych&#x27;</span>,<span class="string">&#x27;长度&#x27;</span>,<span class="string">&#x27;18788388882&#x27;</span>,to_date(<span class="string">&#x27;2011-01-01&#x27;</span>,<span class="string">&#x27;yyyy-mm-dd&#x27;</span>) );</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> reader <span class="keyword">values</span>(<span class="string">&#x27;530111111111111111&#x27;</span>,<span class="string">&#x27;p3ych&#x27;</span>,<span class="string">&#x27;成都&#x27;</span>,<span class="string">&#x27;18788848883&#x27;</span>,to_date(<span class="string">&#x27;2012-01-01&#x27;</span>,<span class="string">&#x27;yyyy-mm-dd&#x27;</span>) );</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> reader <span class="keyword">values</span>(<span class="string">&#x27;540111111111111111&#x27;</span>,<span class="string">&#x27;p4ych&#x27;</span>,<span class="string">&#x27;查到&#x27;</span>,<span class="string">&#x27;18788885884&#x27;</span>,to_date(<span class="string">&#x27;2013-01-01&#x27;</span>,<span class="string">&#x27;yyyy-mm-dd&#x27;</span>) );</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> reader <span class="keyword">values</span>(<span class="string">&#x27;550111111111111111&#x27;</span>,<span class="string">&#x27;p5ych&#x27;</span>,<span class="string">&#x27;程度&#x27;</span>,<span class="string">&#x27;18788883885&#x27;</span>,to_date(<span class="string">&#x27;2014-01-01&#x27;</span>,<span class="string">&#x27;yyyy-mm-dd&#x27;</span>) );</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> reader <span class="keyword">values</span>(<span class="string">&#x27;560111111111111111&#x27;</span>,<span class="string">&#x27;p6ych&#x27;</span>,<span class="string">&#x27;彻底&#x27;</span>,<span class="string">&#x27;18788883886&#x27;</span>,to_date(<span class="string">&#x27;2015-01-01&#x27;</span>,<span class="string">&#x27;yyyy-mm-dd&#x27;</span>) );</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> reader <span class="keyword">values</span>(<span class="string">&#x27;570111111111111111&#x27;</span>,<span class="string">&#x27;p7ych&#x27;</span>,<span class="string">&#x27;出的&#x27;</span>,<span class="string">&#x27;18788882887&#x27;</span>,to_date(<span class="string">&#x27;2016-01-01&#x27;</span>,<span class="string">&#x27;yyyy-mm-dd&#x27;</span>) );</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> reader <span class="keyword">values</span>(<span class="string">&#x27;580111111111111111&#x27;</span>,<span class="string">&#x27;p8ych&#x27;</span>,<span class="string">&#x27;错的&#x27;</span>,<span class="string">&#x27;18788884888&#x27;</span>,to_date(<span class="string">&#x27;2017-01-01&#x27;</span>,<span class="string">&#x27;yyyy-mm-dd&#x27;</span>) );</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> reader <span class="keyword">values</span>(<span class="string">&#x27;590111111111111111&#x27;</span>,<span class="string">&#x27;p9ych&#x27;</span>,<span class="string">&#x27;成电&#x27;</span>,<span class="string">&#x27;18788882889&#x27;</span>,to_date(<span class="string">&#x27;2018-01-01&#x27;</span>,<span class="string">&#x27;yyyy-mm-dd&#x27;</span>) );</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> reader <span class="keyword">values</span>(<span class="string">&#x27;500111111111111111&#x27;</span>,<span class="string">&#x27;p0ych&#x27;</span>,<span class="string">&#x27;抄的&#x27;</span>,<span class="string">&#x27;18788882880&#x27;</span>,to_date(<span class="string">&#x27;2019-01-01&#x27;</span>,<span class="string">&#x27;yyyy-mm-dd&#x27;</span>) );</span><br></pre></td></tr></table></figure>

<img src="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231114020655314.png" alt="image-20231114020655314" style="zoom: 33%;" />

<h2 id="实验三：“图书借阅管理系统”Oracle-数据库后端-PL-SQL-编程"><a href="#实验三：“图书借阅管理系统”Oracle-数据库后端-PL-SQL-编程" class="headerlink" title="实验三：“图书借阅管理系统”Oracle 数据库后端 PL&#x2F;SQL 编程"></a>实验三：“图书借阅管理系统”Oracle 数据库后端 PL&#x2F;SQL 编程</h2><h3 id="实验原理-2"><a href="#实验原理-2" class="headerlink" title="实验原理"></a>实验原理</h3><p>通过 PL&#x2F;SQL 编程实现图书借阅数据库 Lib的后端数据处理功能。通过 PL&#x2F;SQL 编程，后端主要的数据处理功能包括了数据库存储对象的创建、存储过程查看、代码修改、代码编译、编程调用、存储过程结果删除；以及数据库触发器的创建、存储过程查看、代码修改、代码编译、编程调用、存储过程结果删除。</p>
<h3 id="实验步骤-2"><a href="#实验步骤-2" class="headerlink" title="实验步骤"></a>实验步骤</h3><ul>
<li>存储过程编程与对象创建</li>
<li>存储过程查看、代码修改、代码编译</li>
<li>编写PL&#x2F;SQL主程序调用存储过程执行</li>
<li>存储过程删除</li>
<li>触发器编程与创建</li>
<li>触发器查看、代码修改、代码编译</li>
<li>触发器应用</li>
<li>触发器使能控制</li>
<li>触发器删除</li>
</ul>
<h3 id="实验过程-2"><a href="#实验过程-2" class="headerlink" title="实验过程"></a>实验过程</h3><h4 id="存储过程编程"><a href="#存储过程编程" class="headerlink" title="存储过程编程"></a>存储过程编程</h4><h5 id="存储过程创建"><a href="#存储过程创建" class="headerlink" title="存储过程创建"></a>存储过程创建</h5><p>在Library_DBA方案下，编程并创建名为CHANGE_PHONE的存储过程。该存储过程将进行Reader身份信息的确认。如果Reader的id和phone正确,则进行相应的修改，否则，将拒绝修改，并输出相应错误提示信息。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> replace <span class="keyword">procedure</span> change_phone</span><br><span class="line">(</span><br><span class="line">    Read_ID <span class="keyword">in</span> <span class="type">char</span>,</span><br><span class="line">    Read_name <span class="keyword">in</span> varchar2,</span><br><span class="line">    read_tel <span class="keyword">in</span> varchar2,</span><br><span class="line">    new_tel <span class="keyword">in</span> varchar2,</span><br><span class="line">    status_code <span class="keyword">out</span> number,</span><br><span class="line">    status_text <span class="keyword">out</span> varchar2</span><br><span class="line">)</span><br><span class="line"><span class="keyword">is</span></span><br><span class="line">    readid <span class="type">char</span>(<span class="number">18</span>) :<span class="operator">=</span> Read_ID;</span><br><span class="line">    readname varchar2(<span class="number">20</span>) :<span class="operator">=</span> Read_name;</span><br><span class="line">    readtel varchar2(<span class="number">11</span>) :<span class="operator">=</span> read_tel;</span><br><span class="line">    newtel varchar2(<span class="number">11</span>) :<span class="operator">=</span> new_tel;</span><br><span class="line">    tempreadname varchar2(<span class="number">20</span>);</span><br><span class="line">    tempreadtel varchar2(<span class="number">11</span>);</span><br><span class="line">    err_readname exception;</span><br><span class="line">    err_readtel exception;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    status_code :<span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    status_text :<span class="operator">=</span> <span class="string">&#x27;&#x27;</span>;   <span class="comment">-- 初始化</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">select</span> reader_name, reader_tel <span class="keyword">into</span> tempreadname, tempreadtel <span class="keyword">from</span> reader <span class="keyword">where</span> reader_id <span class="operator">=</span> readid;</span><br><span class="line"></span><br><span class="line">    if readname <span class="operator">&lt;&gt;</span> tempreadname <span class="keyword">then</span>    <span class="comment">-- 判断输入的读者姓名是否正确</span></span><br><span class="line">        raise err_readname;</span><br><span class="line">    <span class="keyword">end</span> if;</span><br><span class="line"></span><br><span class="line">    if readtel <span class="operator">&lt;&gt;</span> tempreadtel <span class="keyword">then</span>      <span class="comment">-- 判断输入的电话号码是否正确</span></span><br><span class="line">        raise err_readtel;</span><br><span class="line">    <span class="keyword">end</span> if;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">update</span> reader <span class="keyword">set</span> reader_tel <span class="operator">=</span> newtel <span class="keyword">where</span> reader_id <span class="operator">=</span> readid; <span class="comment">-- 更新电话号码</span></span><br><span class="line">    <span class="keyword">commit</span>;</span><br><span class="line"></span><br><span class="line">exception</span><br><span class="line">    <span class="keyword">WHEN</span> NO_DATA_FOUND <span class="keyword">THEN</span></span><br><span class="line">        status_code :<span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        status_text :<span class="operator">=</span> <span class="string">&#x27;读者信息不存在&#x27;</span>;</span><br><span class="line">    <span class="keyword">WHEN</span> err_readname <span class="keyword">THEN</span></span><br><span class="line">        status_code :<span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        status_text :<span class="operator">=</span> <span class="string">&#x27;读者姓名错误&#x27;</span>;</span><br><span class="line">    <span class="keyword">WHEN</span> err_readtel <span class="keyword">THEN</span></span><br><span class="line">        status_code :<span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        status_text :<span class="operator">=</span> <span class="string">&#x27;电话号码错误&#x27;</span>;</span><br><span class="line">    <span class="keyword">WHEN</span> OTHERS <span class="keyword">THEN</span></span><br><span class="line">        status_code :<span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        status_text :<span class="operator">=</span> substr(SQLERRM, <span class="number">1</span>, <span class="number">100</span>);</span><br><span class="line"><span class="keyword">end</span> change_phone;</span><br><span class="line"><span class="operator">/</span></span><br></pre></td></tr></table></figure>

<img src="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231114024232565.png" alt="image-20231114024232565" style="zoom:33%;" />

<img src="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231114024604385.png" alt="image-20231114024604385" style="zoom:50%;" />

<p>运行成功。</p>
<h5 id="存储过程查看、代码修改、代码编译。"><a href="#存储过程查看、代码修改、代码编译。" class="headerlink" title="存储过程查看、代码修改、代码编译。"></a>存储过程查看、代码修改、代码编译。</h5><p>可以在数据字典USER_OBJECTS中查看该存储过程的基本信息。</p>
<p>SQL语句为：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> Object_name,object_type,created,status <span class="keyword">from</span> user_objects <span class="keyword">where</span> object_type <span class="operator">=</span> <span class="string">&#x27;procedure&#x27;</span> <span class="keyword">and</span> object_name <span class="operator">=</span> <span class="string">&#x27;change_phone&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>结果截图：</p>
<img src="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231114025340146.png" alt="image-20231114025340146" style="zoom: 33%;" />

<p>还可以编写SQL程序，在数据字典USER_OBJECTS中执行，对该存储过程进行代码信息的查询，查看存储过程代码信息。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> user_source <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;STANDARD&#x27;</span> <span class="keyword">and</span> type <span class="operator">=</span> <span class="string">&#x27;PACKAGE&#x27;</span>;  <span class="comment">--选择了另一段代码查看</span></span><br></pre></td></tr></table></figure>

<img src="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231114031737209.png" alt="image-20231114031737209" style="zoom: 33%;" />

<h5 id="存储过程使用"><a href="#存储过程使用" class="headerlink" title="存储过程使用"></a>存储过程使用</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">decleare</span><br><span class="line">    status number;</span><br><span class="line">    status_text varchar2(<span class="number">100</span>);</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    change_phone(<span class="string">&#x27;201601010101&#x27;</span>, <span class="string">&#x27;张三&#x27;</span>, <span class="string">&#x27;12345678901&#x27;</span>, <span class="string">&#x27;12345678901&#x27;</span>, status, status_text);</span><br><span class="line">    IF status <span class="operator">&lt;&gt;</span> <span class="number">0</span> <span class="keyword">THEN</span></span><br><span class="line">        dbms_output.put_line(status_text);</span><br><span class="line">    <span class="keyword">ELSE</span></span><br><span class="line">    dbms_output.put_line(<span class="string">&#x27;ok!&#x27;</span>);</span><br><span class="line">    <span class="keyword">end</span> if;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>

<img src="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231114032228911.png" alt="image-20231114032228911" style="zoom:50%;" />

<img src="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231114032437633.png" alt="image-20231114032437633" style="zoom:33%;" />

<h5 id="存储过程删除"><a href="#存储过程删除" class="headerlink" title="存储过程删除"></a>存储过程删除</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">procedure</span> change_phone;</span><br></pre></td></tr></table></figure>

<p>成功执行该SQL语句后，change_phone存储过程从数据库中被删除。</p>
<h4 id="触发器编程"><a href="#触发器编程" class="headerlink" title="触发器编程"></a>触发器编程</h4><h5 id="触发器创建及编译"><a href="#触发器创建及编译" class="headerlink" title="触发器创建及编译"></a>触发器创建及编译</h5><p>考虑到数据的安全性，在READER表中编程创建一个删除触发器（T_READER_DEL）。该触发器将执行以下任务：当READER表的任一行将被删除时，触发器就会把该行数据记录保存在读者信息删除备份表（READER_DEL_BAK）中，并且在该备份表中记录对READER表做删除操作的用户和删除操作的时间。</p>
<p>首先创建借阅者信息删除备份表reader_del_bak</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> reader_del_bak (</span><br><span class="line">    Read_ID <span class="type">char</span>(<span class="number">18</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    read_name <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    read_addr <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">null</span>,</span><br><span class="line">    read_tel <span class="type">varchar</span>(<span class="number">11</span>) <span class="keyword">null</span>,</span><br><span class="line">    Del_ID <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">null</span>,</span><br><span class="line">    Del_date <span class="type">DATE</span> <span class="keyword">null</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>并创建名为T_READER_DEL的触发器。</p>
<blockquote>
<p> 注意这里一定要用library_dba去操作，也就是normal对象创建触发器。</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> replace <span class="keyword">TRIGGER</span> T_READER_DEl</span><br><span class="line">after <span class="keyword">delete</span> <span class="keyword">on</span> reader</span><br><span class="line"><span class="keyword">for</span> <span class="keyword">each</span> <span class="type">row</span></span><br><span class="line"><span class="keyword">begin</span>   </span><br><span class="line">    <span class="keyword">insert</span> <span class="keyword">into</span> Reader_Del_Bak <span class="keyword">values</span></span><br><span class="line">    (:old.read_ID,</span><br><span class="line">    :old.read_name,</span><br><span class="line">    :old.read_addr,</span><br><span class="line">    :old.read_tel,</span><br><span class="line">    <span class="keyword">user</span>,</span><br><span class="line">    sysdate</span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">commit</span>;</span><br><span class="line">exception</span><br><span class="line">    <span class="keyword">when</span> others <span class="keyword">then</span></span><br><span class="line">        dbms_output.put_line(<span class="string">&#x27;error = &#x27;</span><span class="operator">||</span>to_char(sqlcode));</span><br><span class="line">        dbms_output.put_line(<span class="string">&#x27;error message = &#x27;</span><span class="operator">||</span>sqlerrm);</span><br><span class="line"><span class="keyword">end</span> T_READER_DEl;</span><br></pre></td></tr></table></figure>



<img src="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231114034159301.png" alt="image-20231114034159301" style="zoom:50%;" />

<h5 id="查询触发器"><a href="#查询触发器" class="headerlink" title="查询触发器"></a>查询触发器</h5><p>示例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> object_name,object_type,created,status <span class="keyword">from</span> user_objects <span class="keyword">where</span> object_type <span class="operator">=</span> <span class="string">&#x27;TRIGGER&#x27;</span> <span class="keyword">and</span> object_name <span class="operator">=</span> <span class="string">&#x27;DBMS_SET_PDB&#x27;</span>;</span><br></pre></td></tr></table></figure>



<img src="https://cdn.jsdelivr.net/gh/p5ych2022/IHS@master/img/image-20231114035257187.png" alt="image-20231114035257187" style="zoom:33%;" />

<h5 id="使用触发器"><a href="#使用触发器" class="headerlink" title="使用触发器"></a>使用触发器</h5><p>dd</p>
<h5 id="删除触发器"><a href="#删除触发器" class="headerlink" title="删除触发器"></a>删除触发器</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop TRIGGER T_READER_DEL;</span><br></pre></td></tr></table></figure>

<h2 id="实验四：“图书借阅管理系统”Oracle数据库系统管理"><a href="#实验四：“图书借阅管理系统”Oracle数据库系统管理" class="headerlink" title="实验四：“图书借阅管理系统”Oracle数据库系统管理"></a><strong>实验四：“图书借阅管理系统”Oracle数据库系统管理</strong></h2><h3 id="实验原理-3"><a href="#实验原理-3" class="headerlink" title="实验原理"></a>实验原理</h3><p>使用Oracle SQL Developer或SQL Plus数据库工具对图书借阅管理系统数据库进行系统中的用户对特定数据库的权限的管理，以及使用数据泵工具程序完成数据库备份或恢复操作。</p>
<h3 id="实验步骤-3"><a href="#实验步骤-3" class="headerlink" title="实验步骤"></a>实验步骤</h3><ul>
<li>在图书借阅管理系统数据库Lib中，编写运行SQL语句实现“读者（R_LIB_READER）”角色创建。</li>
<li>针对“读者（R_LIB_READER）”角色，编写运行SQL程序赋予其相应的系统权限与数据库对象访问权限，要求最小范围地赋予其相应的系统权限，并合理地赋予其对READER表、BOOK表、RESERVE表访问权限。</li>
<li>编写运行概要文件LIB_READER_PROF创建SQL语句，实现数据库用户的资源访问和口令操作限制。</li>
<li>编写运行创建读者用户U_LIB_READER的SQL语句，并分派角色R_LIB_READER和概要文件LIB_READER_PROF。</li>
<li>在以上用户权限基础上，再编写运行SQL语句实现U_LIB_READER用户被赋予访问TITLE表对象的SELECT权限。</li>
<li>U_LIB_READER用户登录连接Lib数据库，编写运行SQL语句验证U_LIB_READER用户对READER表、BOOK表、RESERVE表的增、删、查改访问权限。</li>
<li>以SYS用户，编写运行SQL语句查看所创建的用户、概要文件和角色对象元数据。</li>
<li>使用数据泵工具方法实现Lib数据库逻辑备份。</li>
<li>对Lib数据库中某对象进行删除破坏，然后使用数据泵工具方法实现Lib数据库逻辑恢复。</li>
</ul>
<blockquote>
<p>特别要求：Lib数据库中各个对象名称都需要添加本人学号作为后缀，如“R_LIB_READER_20220348021”格式。</p>
</blockquote>
<h3 id="实验过程-3"><a href="#实验过程-3" class="headerlink" title="实验过程"></a>实验过程</h3><h4 id="用户权限管理"><a href="#用户权限管理" class="headerlink" title="用户权限管理"></a>用户权限管理</h4><blockquote>
<p>用户、概要文件和角色的创建</p>
</blockquote>
<p>由于LIBRARY_DBA用混具有DBA权限，不以提供给普通使用者访问数据库，因此需要为普通使用这种创建特定的用户，这里新创建一个名为U_LIB_READER_2022090914031的用户，将来可以使用改用户登录并查看LIBRARY_DBA方案下的READER表。</p>
<ul>
<li>在工具中选择其他用户目录并点击，选择添加用户</li>
</ul>
<img src="C:\Users\杨欣然\AppData\Roaming\Typora\typora-user-images\image-20231203145145833.png" alt="image-20231203145145833" style="zoom:50%;" />

<p>注：Navicat创建用户对用户名有限制，这里创建<code>C##U_LIB_READER_2022090914031</code>用户</p>
<ul>
<li>对新创建的用户要设置特定的资源访问限制，因此需要新创建一个名为C##LIB_READER_PROF的概要文件。由于navicat并没有创建概要文件的GUI界面，故采用SQL语句来创建。</li>
</ul>
<img src="C:\Users\杨欣然\AppData\Roaming\Typora\typora-user-images\image-20231203151127455.png" alt="image-20231203151127455" style="zoom:50%;" />

<ul>
<li>对新创建的用户要设置特定的权限，可以通过觉得的方式来赋予权限，因此新创建一个名为R_LIB_READER_2022090914031的角色</li>
</ul>
<img src="C:\Users\杨欣然\AppData\Roaming\Typora\typora-user-images\image-20231203150502495.png" alt="image-20231203150502495" style="zoom:50%;" />

<blockquote>
<p>分配概要文件和权限的赋予与回收</p>
</blockquote>
<ul>
<li>把C##LIB_READER_PROF概要文件赋予U_LIB_READER_2022090914031用户，并使资源生效</li>
</ul>
<p><code>ALTER USER C##U_LIB_READER_2022090914031 PROFILE C##LIB_READER_PROF;</code></p>
<img src="C:\Users\杨欣然\AppData\Roaming\Typora\typora-user-images\image-20231203151528345.png" alt="image-20231203151528345" style="zoom: 33%;" />

<p>修改动态参数 RESOURCE_LIMIT为TRUE的SQL语句如下</p>
<p><code>ALTER SYSTEM SET RESOURCE_LIMIT = TRUE</code></p>
<img src="C:\Users\杨欣然\AppData\Roaming\Typora\typora-user-images\image-20231203151643147.png" alt="image-20231203151643147" style="zoom:33%;" />

<blockquote>
<p>删除创建的用户、概要文件和角色</p>
</blockquote>
<p>删除用户C##U_LIB_READER_2022090914031,profile和pole</p>
<img src="C:\Users\杨欣然\AppData\Roaming\Typora\typora-user-images\image-20231203152205493.png" alt="image-20231203152205493" style="zoom:50%;" />

<h4 id="数据库备份与恢复"><a href="#数据库备份与恢复" class="headerlink" title="数据库备份与恢复"></a>数据库备份与恢复</h4><p>应对数据库安全物理威胁，防范数据丢失或损坏的主要解决方案是数据备份与恢复技术。可以使用数据泵的导出导入功能实现对数据的逻辑备份，或使用RMAN的自动备份技术实现对数据的物理备份。</p>
<blockquote>
<p>数据泵备份与恢复</p>
</blockquote>
<p>直接点击navicat上方导航栏中的数据泵，选择数据泵导出，即可</p>
<img src="C:\Users\杨欣然\AppData\Roaming\Typora\typora-user-images\image-20231203152747839.png" alt="image-20231203152747839" style="zoom: 33%;" />

<p>点击运行，就开始导出备份。</p>
<p>备份结束后，删除READER表中的所有数据，然后进行LIBRARY_DBA方案的导入操作。</p>
<p>导入步骤与导出相同。</p>
<blockquote>
<p>RMAN备份与恢复</p>
</blockquote>
<ul>
<li>备份准备。首先使用ARCHIVE LOG LIST命令查看当前数据库，已确认当前处于归档模式。</li>
</ul>
<img src="C:\Users\杨欣然\AppData\Roaming\Typora\typora-user-images\image-20231203153528783.png" alt="image-20231203153528783" style="zoom: 33%;" />

<ul>
<li>登录RMAN，使用RMAN备份数据文件</li>
</ul>
<p><code>backup datafile 1;</code></p>
<ul>
<li>用RMAN恢复数据文件的操作</li>
</ul>
<p>登录RMAN，将要恢复的回溯局文件脱机，</p>
<p><code>sql &#39;ALTER DATABASEDATAFILE 6 OFFLINE;</code></p>
<p>重建数据文件</p>
<p><code>RESTORE DATAFILE 6;</code></p>
<p>恢复数据文件</p>
<p><code>RECOVER DATAFILE 6;</code></p>
<p>使数据文件联机</p>
<p><code>sql ’ALTERDATABASEDATAFILE6 OUTLINE;</code></p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">Home</a></li>
        
          <li><a href="/about/">About</a></li>
        
          <li><a href="/archives/">Article</a></li>
        
          <li><a href="/tags/">Tag</a></li>
        
          <li><a href="/categories/">Category</a></li>
        
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text">数据库系统概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%B7%A5%E5%85%B7"><span class="toc-number">1.1.</span> <span class="toc-text">数据库工具</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84"><span class="toc-number">1.2.</span> <span class="toc-text">数据库系统结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.2.1.</span> <span class="toc-text">关系数据模型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E6%A8%A1%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.2.2.</span> <span class="toc-text">多模数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E7%BB%84%E6%88%90"><span class="toc-number">1.2.3.</span> <span class="toc-text">数据库系统组成</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%94%A8%E6%88%B7"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">数据库用户</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F"><span class="toc-number">1.2.3.2.</span> <span class="toc-text">数据库应用程序</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.2.3.3.</span> <span class="toc-text">数据库管理系统</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.2.3.3.1.</span> <span class="toc-text">数据库</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BB%93%E6%9E%84"><span class="toc-number">1.2.4.</span> <span class="toc-text">数据库结构</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84"><span class="toc-number">1.2.4.1.</span> <span class="toc-text">数据库逻辑结构</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%89%A9%E7%90%86%E7%BB%93%E6%9E%84"><span class="toc-number">1.2.4.2.</span> <span class="toc-text">数据库物理结构</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8"><span class="toc-number">1.2.5.</span> <span class="toc-text">数据字典</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8%E8%A7%86%E5%9B%BE"><span class="toc-number">1.2.5.1.</span> <span class="toc-text">静态数据字典视图</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8%E8%A7%86%E5%9B%BE"><span class="toc-number">1.2.5.2.</span> <span class="toc-text">动态数据字典视图</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C%E8%AF%AD%E8%A8%80"><span class="toc-number">1.2.6.</span> <span class="toc-text">数据库操作语言</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8E%E8%A1%A8%E7%A9%BA%E9%97%B4"><span class="toc-number">2.</span> <span class="toc-text">数据库与表空间</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93-1"><span class="toc-number">2.1.</span> <span class="toc-text">数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%99%AE%E9%80%9A%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">2.1.1.</span> <span class="toc-text">普通数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E7%A7%9F%E6%88%B7%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">2.1.2.</span> <span class="toc-text">多租户数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.1.2.1.</span> <span class="toc-text">模式</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%A9%BA%E9%97%B4"><span class="toc-number">2.1.3.</span> <span class="toc-text">数据表空间</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.</span> <span class="toc-text">数据库对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8"><span class="toc-number">3.1.</span> <span class="toc-text">数据库表</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A8%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.1.1.</span> <span class="toc-text">表类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7schema"><span class="toc-number">3.1.2.</span> <span class="toc-text">用户schema</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95"><span class="toc-number">3.2.</span> <span class="toc-text">索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE"><span class="toc-number">3.3.</span> <span class="toc-text">视图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%8E%E7%AB%AF%E7%BC%96%E7%A8%8B"><span class="toc-number">4.</span> <span class="toc-text">后端编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#PL-SQL%E6%A6%82%E8%BF%B0"><span class="toc-number">4.1.</span> <span class="toc-text">PL&#x2F;SQL概述</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E5%BF%AB"><span class="toc-number">4.1.1.</span> <span class="toc-text">结构快</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E4%B8%80%EF%BC%9A%E2%80%9C%E5%9B%BE%E4%B9%A6%E5%80%9F%E9%98%85%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E2%80%9DOracle-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%9B%E5%BB%BA%E4%B8%8E%E7%BB%B4%E6%8A%A4"><span class="toc-number">5.</span> <span class="toc-text">实验一：“图书借阅管理系统”Oracle 数据库创建与维护</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E5%8E%9F%E7%90%86"><span class="toc-number">5.1.</span> <span class="toc-text">实验原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E6%AD%A5%E9%AA%A4"><span class="toc-number">5.2.</span> <span class="toc-text">实验步骤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E8%BF%87%E7%A8%8B"><span class="toc-number">5.3.</span> <span class="toc-text">实验过程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%9B%E5%BB%BA"><span class="toc-number">5.3.1.</span> <span class="toc-text">数据库创建</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5"><span class="toc-number">5.3.2.</span> <span class="toc-text">数据库连接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%A1%A8%E7%A9%BA%E9%97%B4"><span class="toc-number">5.3.3.</span> <span class="toc-text">创建表空间</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E4%BA%8C%EF%BC%9A%E2%80%9C%E5%9B%BE%E4%B9%A6%E5%80%9F%E9%98%85%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E2%80%9DOracle-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AF%B9%E8%B1%A1%E5%88%9B%E5%BB%BA%E4%B8%8E-SQL-%E6%93%8D%E4%BD%9C"><span class="toc-number">6.</span> <span class="toc-text">实验二：“图书借阅管理系统”Oracle 数据库对象创建与 SQL 操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E5%8E%9F%E7%90%86-1"><span class="toc-number">6.1.</span> <span class="toc-text">实验原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E6%AD%A5%E9%AA%A4-1"><span class="toc-number">6.2.</span> <span class="toc-text">实验步骤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E8%BF%87%E7%A8%8B-1"><span class="toc-number">6.3.</span> <span class="toc-text">实验过程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%96%B9%E6%A1%88%E5%AF%B9%E8%B1%A1"><span class="toc-number">6.3.1.</span> <span class="toc-text">创建方案对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%9D%83%E9%99%90"><span class="toc-number">6.3.1.1.</span> <span class="toc-text">设置服务器权限</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%94%A8%E5%88%9A%E6%89%8D%E5%88%9B%E5%BB%BA%E7%9A%84%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95"><span class="toc-number">6.3.1.2.</span> <span class="toc-text">用刚才创建的用户登录</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%96%E5%86%99SQL%E8%AF%AD%E5%8F%A5"><span class="toc-number">6.3.2.</span> <span class="toc-text">编写SQL语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95"><span class="toc-number">6.3.3.</span> <span class="toc-text">创建索引</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%A7%86%E5%9B%BE%E5%AF%B9%E8%B1%A1"><span class="toc-number">6.3.4.</span> <span class="toc-text">创建视图对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%BA%8F%E5%88%97%E5%AF%B9%E8%B1%A1"><span class="toc-number">6.3.5.</span> <span class="toc-text">创建序列对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E8%A1%A8%E5%AF%B9%E8%B1%A1%E7%BB%93%E6%9E%84"><span class="toc-number">6.3.6.</span> <span class="toc-text">修改表对象结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%8F%E5%88%97"><span class="toc-number">6.3.7.</span> <span class="toc-text">删除数据库序列</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="toc-number">6.3.8.</span> <span class="toc-text">插入数据</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E4%B8%89%EF%BC%9A%E2%80%9C%E5%9B%BE%E4%B9%A6%E5%80%9F%E9%98%85%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E2%80%9DOracle-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%90%8E%E7%AB%AF-PL-SQL-%E7%BC%96%E7%A8%8B"><span class="toc-number">7.</span> <span class="toc-text">实验三：“图书借阅管理系统”Oracle 数据库后端 PL&#x2F;SQL 编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E5%8E%9F%E7%90%86-2"><span class="toc-number">7.1.</span> <span class="toc-text">实验原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E6%AD%A5%E9%AA%A4-2"><span class="toc-number">7.2.</span> <span class="toc-text">实验步骤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E8%BF%87%E7%A8%8B-2"><span class="toc-number">7.3.</span> <span class="toc-text">实验过程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E7%BC%96%E7%A8%8B"><span class="toc-number">7.3.1.</span> <span class="toc-text">存储过程编程</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%88%9B%E5%BB%BA"><span class="toc-number">7.3.1.1.</span> <span class="toc-text">存储过程创建</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E6%9F%A5%E7%9C%8B%E3%80%81%E4%BB%A3%E7%A0%81%E4%BF%AE%E6%94%B9%E3%80%81%E4%BB%A3%E7%A0%81%E7%BC%96%E8%AF%91%E3%80%82"><span class="toc-number">7.3.1.2.</span> <span class="toc-text">存储过程查看、代码修改、代码编译。</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E4%BD%BF%E7%94%A8"><span class="toc-number">7.3.1.3.</span> <span class="toc-text">存储过程使用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%88%A0%E9%99%A4"><span class="toc-number">7.3.1.4.</span> <span class="toc-text">存储过程删除</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A6%E5%8F%91%E5%99%A8%E7%BC%96%E7%A8%8B"><span class="toc-number">7.3.2.</span> <span class="toc-text">触发器编程</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A7%A6%E5%8F%91%E5%99%A8%E5%88%9B%E5%BB%BA%E5%8F%8A%E7%BC%96%E8%AF%91"><span class="toc-number">7.3.2.1.</span> <span class="toc-text">触发器创建及编译</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-number">7.3.2.2.</span> <span class="toc-text">查询触发器</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-number">7.3.2.3.</span> <span class="toc-text">使用触发器</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-number">7.3.2.4.</span> <span class="toc-text">删除触发器</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E5%9B%9B%EF%BC%9A%E2%80%9C%E5%9B%BE%E4%B9%A6%E5%80%9F%E9%98%85%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E2%80%9DOracle%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86"><span class="toc-number">8.</span> <span class="toc-text">实验四：“图书借阅管理系统”Oracle数据库系统管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E5%8E%9F%E7%90%86-3"><span class="toc-number">8.1.</span> <span class="toc-text">实验原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E6%AD%A5%E9%AA%A4-3"><span class="toc-number">8.2.</span> <span class="toc-text">实验步骤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E8%BF%87%E7%A8%8B-3"><span class="toc-number">8.3.</span> <span class="toc-text">实验过程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86"><span class="toc-number">8.3.1.</span> <span class="toc-text">用户权限管理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D"><span class="toc-number">8.3.2.</span> <span class="toc-text">数据库备份与恢复</span></a></li></ol></li></ol></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://p5ych2022.github.io/2024/01/01/oracle%E5%AE%9E%E9%AA%8C/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://p5ych2022.github.io/2024/01/01/oracle%E5%AE%9E%E9%AA%8C/&text=oracle 实验"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://p5ych2022.github.io/2024/01/01/oracle%E5%AE%9E%E9%AA%8C/&title=oracle 实验"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://p5ych2022.github.io/2024/01/01/oracle%E5%AE%9E%E9%AA%8C/&is_video=false&description=oracle 实验"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=oracle 实验&body=Check out this article: http://p5ych2022.github.io/2024/01/01/oracle%E5%AE%9E%E9%AA%8C/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://p5ych2022.github.io/2024/01/01/oracle%E5%AE%9E%E9%AA%8C/&title=oracle 实验"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://p5ych2022.github.io/2024/01/01/oracle%E5%AE%9E%E9%AA%8C/&title=oracle 实验"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://p5ych2022.github.io/2024/01/01/oracle%E5%AE%9E%E9%AA%8C/&title=oracle 实验"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://p5ych2022.github.io/2024/01/01/oracle%E5%AE%9E%E9%AA%8C/&title=oracle 实验"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://p5ych2022.github.io/2024/01/01/oracle%E5%AE%9E%E9%AA%8C/&name=oracle 实验&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://p5ych2022.github.io/2024/01/01/oracle%E5%AE%9E%E9%AA%8C/&t=oracle 实验"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2022-2024
    psych
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Article</a></li><!--
     --><!--
       --><li><a href="/tags/">Tag</a></li><!--
     --><!--
       --><li><a href="/categories/">Category</a></li><!--
     --><!--
       --><li><a href="/search/">Search</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>
    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
